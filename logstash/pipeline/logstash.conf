input {
  file {
    path => "/var/log/*.log"      # Your log files
    start_position => "beginning"  # Read from start
    sincedb_path => "/dev/null"    # Re-read logs every restart (optional)
  }
}

filter {
  json {
    source => "message"             # Parse JSON logs
    skip_on_invalid_json => true
  }
}

output {
  elasticsearch {
    hosts => ["http://elasticsearch:9200"]  # Elasticsearch host
    index => "app-logs-%{+YYYY.MM.dd}"      # Daily index
  }
  stdout { codec => rubydebug }             # Optional: print to console
}

